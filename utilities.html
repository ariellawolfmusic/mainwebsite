<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Utilities - Mimosa</title>
  <meta name="description" content="All the extra bits you have to have.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="css/main.css"> -->
  <link rel="stylesheet" href="css/bootstrap.min.css" >
  <link rel="stylesheet" href="css/bootstrap-responsive.min.css" >
  <link rel="stylesheet" href="css/app.css">

  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
</head>
<body data-spy="scroll" data-target=".subnav" data-offset="50">

  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="">
              <a href="./index.html">Mimosa</a>
            </li>
            <li class="">
              <a href="./started.html">Get Started</a>
            </li>
            <li class="">
              <a href="./commands.html">Commands</a>
            </li>
            <li  class="">
              <a href="./modules.html">Modules</a>
            </li>
            <li class="">
              <a href="./compilers.html">Compilers</a>
            </li>
            <li class="">
              <a href="./server.html">Serve</a>
            </li>
            <li class="active">
              <a href="./utilities.html">Utilities</a>
            </li>
            <li class="">
              <a href="./optimization.html">Optimize</a>
            </li>
            <li class="">
              <a href="./configuration.html">Config</a>
            </li>
            <li class="">
              <a href="./about.html">About/FAQ</a>
            </li>
            <li class="">
              <a href="http://dbashford.github.io">Blog</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container main">

  <header class="jumbotron subhead" id="overview">
    <h1>Utilities</h1>
    <p class="lead">All the little things that add up to win.</p>
    <div class="subnav">
      <ul class="nav nav-pills">
        <li><a href="#bower" title="Bower-ify all the things">Bower</a></li>
        <li><a href="#requirejs" title="Lint your assets">RequireJS Support</a></li>
        <li><a href="#lint" title="Lint your assets">Linting</a></li>
        <li><a href="#reload" title="Never refresh your browser again">Live Reload</a></li>
        <li><a href="#notify" title="Find out right away when thigs go horribly wrong">Logger</a></li>
        <li><a href="#gzip" title="Keep your assets nice and small">GZip</a></li>
        <li><a href="#cache" title="Keep your assets nice and small">Cache Busting</a></li>
        <li><a href="#profiles" title="Tweak the config using Profiles">Run Profiles</a></li>
      </ul>
    </div>
  </header>

  <section class="command-list">
    <section id="bower" >
      <div class="page-header">
        <h1>
          Bower
          <small><span class="options">package management for vendor libraries</span></small>
        </h1>
      </div>

      <p>Mimosa comes with <a href="http://bower.io">Bower</a> support built in via the <code class="option">mimosa-bower</code> module.</p>

      <p>For details on the bower module's functionality, check out the <a href="https://github.com/dbashford/mimosa-bower#functionality">GitHub repository</a> for the module.</p>
    </section>

    <section id="requirejs" >
      <div class="page-header">
        <h1>
          RequireJS Support
          <small><span class="options">maps and shims and paths, o my</span></small>
        </h1>
      </div>
      <div class="row">
        <div class="span6">
          <p>Mimosa comes with loads of AMD/RequireJS support all provided by the <code class="option">mimosa-require</code> module. That module will...</p>

          <ul>
             <li>Verify paths when JavaScript successfully compiles. Mimosa will follow relative paths for dependencies, and also use config paths whether they resolve to an actual dependency, <code class="option">jquery: 'vendor/jquery'</code>, or they resolve to a module, <code class="option">moduleX:'a/path/to/module/x'</code>.
            <li>Detect dependencies embedded within <code class="option">define</code> and <code class="option">require</code> callbacks. i.e. deferred <code class="option">require</code> calls.</li>
            <li>Verify map, shim and package paths, and keep track of those configs for path verification.</li>
            <li>Verify plugin paths.</li>
            <li>Notify when paths are broken. An unresolved path is as crucial as a compiler error: code is broken.</li>
            <li>Catch circular dependencies and notify on the console.</li>
            <li>Catch when a non-vendor piece of compiled JavaScript isn't wrapped in <code class="option">require</code> or <code class="option">define</code> and notify you on the console.</li>
            <li>Run RequireJS' optimizer when the <code class="option">optimize</code> flag is enabled for <code class="option">mimosa build</code>, and on every file change for <code class="option">mimosa watch</code>.</li>
            <li>Need no config at all for the optimizer, which takes some time to configure. Mimosa will keep track of dependencies and build a vanilla optimizer configuration.</li>
            <li>Use your <code class="option">modules</code> config to create many r.js outputs for your dynamic requirejs calls.</li>
            <li>For complex r.js configurations, allow modification of pre-built inferred configs rather than needing from-scratch configurations.</li>
            <li>Handle multi-page applications with multiple modules.</li>
            <li>Detect and use common RequireJS configuration used across multiple modules</li>
            <li>Only compile those modules that need compiling based on changed code.</li>
            <li>Bundle optimized JavaScript with <a href="https://github.com/jrburke/almond">Almond</a></li>
          </ul>

<p>Path verification can be turned off using the configuration shown here.  Set <code class="option">require.verify.enabled</code> to <code class="option">false</code>. For information about how Mimosa uses RequireJS to optimize your application, check out the <a href="./optimization.html">Optimization</a> tab.</p>


        </div>


        <div class="span6">
          <div class="term">
            <div class="inner">
              18:59:06 - <span class="logerror">ERROR</span> - RequireJS dependency <span class="path">controller</span> for path alias <span class="path">c</span>, inside file <span class="path">/public/javascripts/main.js</span>, cannot be found.<br/>
              18:59:22 - <span class="logerror">ERROR</span> - RequireJS shim <span class="path">ang</span> inside file <span class="path">public/javascripts/main.js</span> refers to a dependency that cannot be found <span class="path">vendo/modernizr</span>.<br/>
              18:59:33 - <span class="logerror">ERROR</span> - RequireJS dependency <span class="path">c/gitHu</span>, inside file <span class="path">/public/javascripts/main.js</span>, cannot be found.<br/>
              18:59:43 - <span class="logerror">ERROR</span> - RequireJS mapping inside file <span class="path">public/javascripts/main.js</span>, for module <span class="path">*</span> has path that cannot be found <span class="path">vendor/angular-resourc</span>.
            </div>
          </div>
<pre>require: {
  exclude:[],
  commonConfig:"common",
  tracking: {
    enabled: true,
    path: ".mimosa/require/tracking.json"
  },
  verify: {
    enabled: true,
    plugins: {
      css: "css",
      hbs: "hbs"
    }
  },
  optimize : {
    modules: null,
    moduleCachingPath: ".mimosa/require/moduleCaching",
    inferConfig:true,
    overrides:{}
  }
}</pre>

        </div>
      </div>

      <p>Path verification is always disabled for vendor assets, that is, assets in the configured <code class="option">vendor.javascripts</code> directory.  Vendor assets often use creative means to turn themselves into AMD modules that prove hard to verify.  That said, if a vendor asset is placed outside the vendor folder, Mimosa is coded to handle how some of the methods vendor assets are AMDed. But Mimosa may complain that some vendor assets are throwing errors or are not properly wrapped.</p>

      <p>Mimosa also has the ability to cache dependency information between Mimosa runs, making startup time fast for large applications.</p>

      <p>To read more about Mimosa's RequireJS support, head over to the <a href="./optimization.html">Optimization</a> page.</p>

    </section>
    <section id="lint">
      <div class="page-header">
        <h1>
          Linting
          <small><span class="options">keep your code idiomatic</span></small>
        </h1>
      </div>

      <p>To 'lint' code is to check it for common mistakes or variances from the idiom.
        Using the <a href="https://github.com/dbashford/mimosa-csslint">mimosa-csslint</a>
        and <a href="https://github.com/dbashford/mimosa-jshint">mimosa-jshint</a> modules,
        Mimosa will automatically lint all of the CSS and JavaScript it moves from source
        directories to compiled directories. Any errors or warnings that come out of
        linting will be printed to the console but will not stop or fail the compilation.</p>

    </section>
    <section id="reload">
      <div class="page-header">
        <h1>
          Live Reload
          <small><span class="options">so simple, such a time saver</span></small>
        </h1>
      </div>

      <p>Mimosa provides live reload support by default via the <a href="https://github.com/dbashford/mimosa-live-reload">mimosa-live-reload</a> module. For details on what live reload is, how mimosa-live-reload functions and how to integrate mimosa-live-reload into your existing server setup, visit the <a href="https://github.com/dbashford/mimosa-live-reload">mimosa-live-reload GitHub page</a>.</p>
    </section>
    <section id="notify">
      <div class="page-header">
        <h1>
          Logging and Growl
          <small><span class="options">find out right now that something is broken</span></small>
        </h1>
      </div>

      <div class="row">
        <div class="span8">
          <h2>Logging</h2>

          <p>Mimosa's core code and its various modules will all attempt to log events. Errors, warnings, information, debugging and success messages emanate from Mimosa at various times.</p>

          <p>Mimosa provides an ability to configure its logger. Various types of messages can be turned off and colors can be edited. The configuration listed here is fairly self-explanatory.</p>

          <h2>Growl</h2>

          <p>If <a href="http://growl.info/">Growl</a> is installed and turned on, a Growl notification will be created for each failed or successful asset compile. In the event Growl gets too spammy, Growl notifications can be turned off for successful compiles or turned off entirely. Growl has its own setting in Mimosa, the defaults are to the right.</p>

          <p>If  <a href="./commands.html#clean">clean</a> in run on a project and then <a href="./commands.html#watch">watch</a> is started, Mimosa will compile every asset. If there are dozens or hundreds of assets, Growl notifications may not be desirable for each successful compile during startup. Startup success notifications are off by default, but can be turned on by uncommenting the config and setting the <code class="option">growl.onStartup</code> flag to <code class="option">true</code>. Post-startup success notifications can be turned off by altering the <code class="option">growl.onSuccess</code> flats. These notifications are on by default.</p>

          <p>To allow Mimosa to use Growl, an extra library needs to be installed. For details on installation on your system, check out the <a href="https://github.com/visionmedia/node-growl#install">node-growl</a> page.</a>


        </div>
        <div class="span4">
<pre>logger: {
  info: {
    enabled: true,
    color: null
  },
  warn: {
    enabled: true,
    color: 'yellow+bold'
  },
  success: {
    enabled: true,
    color: 'green'
  },
  error: {
    enabled: true,
    color: 'red+bold'
  },
  debug: {
    color: 'blue'
  },
  embeddedText: {
    enabled: true,
    color: 'cyan'
  },
  growl: {
    enabled: true,
    onStartup: false,
    onSuccess: true
  }
</pre>
        </div>
      </div>

    </section>

    <section id="gzip">
      <div class="page-header">
        <h1>
          GZip Your Assets
          <small><span class="options">because size matters</span></small>
        </h1>
      </div>
      <p>All static assets will be served up <a href="http://en.wikipedia.org/wiki/Gzip">GZip</a>-ed! 'nuff said.</p>
    </section>

    <section id="cache" >
      <div class="page-header">
        <h1>
          Cache Busting
          <small><span class="options">no more shift-f5 and pray</span></small>
        </h1>
      </div>
      <p>No forcing a refresh to bypass caching issues. All JavaScript and CSS files are cache-busted during development.</p>

      <p>JavaScript cache-busting is done via the <code class="option">urlArgs</code> parameter with RequireJS.  That can cause some problems if you are doing breakpoint debugging in the client.  You'll want to comment out the <code class="option">urlArgs</code> if you do that kind of debugging.</p>

    </section>

    <section id="profiles" >
      <div class="page-header">
        <h1>
          Run Profiles
          <small><span class="options">override the mimosa-config at runtime</span></small>
        </h1>
      </div>

      <p>Profiles allow for overriding of <code class="option">mimosa-config</code> settings via external config files. A project might have a "build" profile that is used for automated builds, and for those builds maybe certain modules aren't needed. For instance the "lint" module can be left out of the modules array.</p>

      <p>Profiles are implemented as <code class="option">mimosa-config</code> files. Any properties of a project's <code class="option">mimosa-config</code> that need to be overridden would be the properties placed in a profile file.</p>

      <p>By default, profile files should be located in a <code class="option">profiles/</code> directory at the root of a Mimosa project. This location can be overridden via the <code class="option">profileLocation</code> property in the project's <code class="option">mimosa-config</code>.  <code class="option">profileLocation</code> is relative to the root of the project.</p>

      <p>Profiles can be used for the <code class="option">watch</code>, <code class="option">build</code> and <code class="option">clean</code> commands. Each of those commands have a <code class="option">-P/--profile</code> flag. Follow the flag with the name of the profile to use and Mimosa will pull that profile in and use it to override the settings in the <code class="option">mimosa-config</code>. Ex: <code class="option">mimosa build -P build</code>.

      <p>If necessary the root <code class="option">mimosa-config</code> can be accessed in your profile. For more information, see <a href="https://github.com/dbashford/mimosa/issues/399">this GitHub issue</a>

      <h2>Multiple Profiles</h2>


      <p>New with version <code class="option">2.2.14</code> of Mimosa, multiple profiles can be provided at the command line.  Ex: <code class="option">mimosa build -P foo#bar</code>.  Profiles are applied from left to right.  So, in this case if the <code class="option">bar</code> profile contains the same configuration as the <code class="option">foo</code> profile, the <code class="option">bar</code> profile information will overwrite foo.</p>

      <h2>Default Profiles</h2>

      <p>New with version <code class="option">2.3.2</code> of Mimosa is the introduction of default profiles. Profiles are a powerful feature. Using a profile is easy enough, but if you have a set of profiles that you are constantly applying, you find yourself typing <code class="option">-P profileName</code> quite a bit.  Now you can keep a default profile in a <code class="option">`.mimosa_profile`</code> file at the root of your project.  This file, a <code class="option">\n</code>-delimited list of profile names, will be the first profiles applied.  You can also append <code class="option">-P profileName</code> and those profiles will be applied last (and therefore override any settings in a default profile).</p>


    </section>

  </section>

</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.7.2.min.js"><\/script>')</script>
<script src="js/vendor/bootstrap-collapse.js"></script>
<script src="js/vendor/bootstrap-scrollspy.js"></script>

<!-- scripts concatenated and minified via build script -->
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<!-- end scripts -->

<script>
    var _gaq=[['_setAccount','UA-33737130-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
