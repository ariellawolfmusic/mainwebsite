<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Server Options and Setup - Mimosa</title>
  <meta name="description" content="Mimosa can serve your assets for you or start your server.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="css/main.css"> -->
  <link rel="stylesheet" href="css/bootstrap.min.css" >
  <link rel="stylesheet" href="css/bootstrap-responsive.min.css" >
  <link rel="stylesheet" href="css/app.css">

  <link rel="shortcut icon" href="img/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
</head>
<body data-spy="scroll" data-target=".subnav" data-offset="50">

  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="">
              <a href="./index.html">Mimosa</a>
            </li>
            <li class="">
              <a href="./started.html">Get Started</a>
            </li>
            <li class="">
              <a href="./commands.html">Commands</a>
            </li>
            <li  class="">
              <a href="./modules.html">Modules</a>
            </li>
            <li class="">
              <a href="./compilers.html">Compilers</a>
            </li>
            <li class="active">
              <a href="./server.html">Serve</a>
            </li>
            <li class="">
              <a href="./utilities.html">Utilities</a>
            </li>
            <li class="">
              <a href="./optimization.html">Optimize</a>
            </li>
            <li class="">
              <a href="./configuration.html">Config</a>
            </li>
            <li class="">
              <a href="./about.html">About/FAQ</a>
            </li>
            <li class="">
              <a href="http://dbashford.github.io">Blog</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container main">

  <header class="jumbotron subhead" id="overview">
    <h1>Server Resources</h1>
    <p class="lead">Mimosa jump starts and integrates your server development </p>
    <div class="subnav">
      <ul class="nav nav-pills">
        <li><a href="#overview" title="How Mimosa's server resources work">Overview</a></li>
        <li><a href="#new" title="What Mimosa delivers">Via 'mimosa new'</a></li>
        <li><a href="#mimosas" title="Mimosa's embedded server">Mimosa's Server</a></li>
        <li><a href="#yours" title="How Mimosa invokes your server">Your Server</a></li>
        <li><a href="#none" title="Bring your own!">No Server</a></li>
        <li><a href="#views" title="View options">Views</a></li>
      </ul>
    </div>
  </header>

  <section class="command-list server-list">
    <section id="overview">
      <div class="page-header">
        <h1>
          Overview
          <small><span class="options"></span></small>
        </h1>
      </div>
    </section>

    <p>Mimosa's server support comes courtesy of the <a href="https://github.com/dbashford/mimosa-server">mimosa-server</a> module. For more details on how mimosa-server works, check out <a href="https://github.com/dbashford/mimosa-server">that project's GitHub repository</a>.</p>

    <h2>No server necessary</h2>
    <p>With <code class="option">mimosa watch</code> Mimosa does not need to serve assets. A project might have a server already. <code class="option">mimosa watch</code> is good with that. It'll run the workflow, compile code, lint it, write it, and stop there.</p>

    <h2>But if you want one...</h2>
    <p>Toss a <code class="option">-s/--server</code> onto <code class="option">mimosa watch</code> and Mimosa will invoke a server. Which server Mimosa invokes depends on what is in the <code class="option">mimosa-config</code>. Mimosa could start its own embedded Express server and point it at a project's views and assets. Or Mimosa could start the server provided by <code class="option">mimosa new</code>. Or Mimosa could execute an existing server using a simple exports hook.</p>

    <p>All server integration options are nodejs-based. The <code class="option">server</code> module does not have the ability to start your Rails server or your Tomcat. But Mimosa can deliver compiled assets to the directory your server expects to find them by changing the <code class="option">watch.compiledDir</code> to that location.</p>

    <section id="new">
      <div class="page-header">
        <h1>
          What "mimosa new" gives you
        </h1>
      </div>
    </section>

    <h2>Server</h2>

    <p><code class="option">mimosa new</code> provides the option to have a server or to use Mimosa's embedded server. If no server is chosen, Mimosa will not deliver any sort of server code.</p>

    <p>If an Express or Hapi option is chosen, Mimosa will provide a single file, written in the chosen JavaScript transpiler, that Mimosa will use to start your Express/Hapi server.</p>

    <p>The server code delivered by <code class="option">mimosa new</code> will use all of the configuration from the <code class="option">mimosa-config</code> <code class="option">server</code> block. The use of the <code class="option">mimosa-config</code> entries could be removed from the delivered code if you rather have the values in code rather than config.</p>

    <pre>app.configure ->
  app.set 'port', <b>config.server.port</b>
  app.set 'views', <b>config.server.views.path</b>
  app.engine <b>config.server.views.extension</b>, engines[<b>config.server.views.compileWith</b>]
  app.set 'view engine', <b>config.server.views.extension</b></pre>


    <h2>Views</h2>

    <p><code class="option">mimosa new</code> provides the option to select a server view technology. Plain HTML is an option as well as a number of dynamic templating technologies. Depending on the technology chosen, Mimosa will provide one or two view templates for the starter app.</p>

    <p>As with the server code Mimosa delivers, the view code and routes are built to be flexible enough to work in several scenarios. Some conditionals and <code class="option">mimosa-config</code> properties can be replaced or hard-coded. The code may not need that level of complexity.</p>

    <p>Mimosa uses <a href="https://github.com/visionmedia/consolidate.js">consolidate</a>, both internally and within the delivered Express, to easily toggle between different view templating libraries. Also installed will be the library for the chosen templating library.</p>

    <p>If Hapi is the chosen server templating language, the Hapi server comes configured to use any of the available server templating languages that are available via <code class="option">mimosa new</code>.

    <p>The view support is provided via the <a href="https://github.com/dbashford/mimosa-server">mimosa-server</a> module. For more details on the views technologies that are available, check out <a href="https://github.com/dbashford/mimosa-server">that project's GitHub repository</a>.</p>


    <section id="mimosas">
      <div class="page-header">
        <h1>
          Mimosa's Embedded Server
          <small><span class="options">mimosa can serve your app</span></small>
        </h1>
      </div>
    </section>

    <p>Mimosa's embedded server is provided by the <a href="https://github.com/dbashford/mimosa-server">mimosa-server</a> module. For more details on how mimosa-server works, check out <a href="https://github.com/dbashford/mimosa-server">that project's GitHub repository</a>.</p>

    <section id="yours">
      <div class="page-header">
        <h1>
          Hooked Into Your Server
          <small><span class="options">mimosa can start your app</span></small>
        </h1>
      </div>
    </section>

    <p>Mimosa's ability to start your server is provided by the <a href="https://github.com/dbashford/mimosa-server">mimosa-server</a> module. For more details on how mimosa-server works, check out <a href="https://github.com/dbashford/mimosa-server">that project's GitHub repository</a>.</p>

    <section id="none">
      <div class="page-header">
        <h1>
          Running with No Server
          <small><span class="options">because you don't need one, or you've got your own</span></small>
        </h1>
      </div>
    </section>

    <p>Mimosa does not require a server. You may simply not need one (static site?) or you may have your own non-node.js server that Mimosa cannot start for you. I've experienced teams using Mimosa on top of node.js, Rails/Sinatra, and .NET backends.</p>

    <p>When running a non-node.js server, the major consideration is the <code class="option">watch.compiledDir</code>. The output of asset compilation might need to redirected to another folder where the server lives. Consider the following:</p>

<pre>watch: {
  compiledDir: "../server/public"
}</pre>

  <p>This setup will place the compiled assets up one level and then into a <code class="option">server/public</code> directory. Sitting alongside the <code class="option">server</code> directory might be a <code class="option">client</code> directory where all the Mimosa managed UI code lives.</p>


  </section>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.7.2.min.js"><\/script>')</script>
<script src="js/vendor/bootstrap-collapse.js"></script>
<script src="js/vendor/bootstrap-scrollspy.js"></script>

<!-- scripts concatenated and minified via build script -->
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<!-- end scripts -->

<script>
    var _gaq=[['_setAccount','UA-33737130-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>
